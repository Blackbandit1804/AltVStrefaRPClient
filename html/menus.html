<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/bank.css">
    <link rel="stylesheet" href="packages/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/menus.css">
    <link rel="stylesheet" href="css/business.css">

    <script src="packages/js/moment.min.js"></script>
    <script src="packages/js/jquery-3.3.1.min.js"></script>
    <script src="packages/js/bootstrap.min.js"></script>
    <script src="packages/js/Chart.bundle.min.js"></script>
    <script src="packages/js/vue.js"></script>

    <script src="https://unpkg.com/vue-select@3.0.0"></script>
    <link rel="stylesheet" href="https://unpkg.com/vue-select@3.0.0/dist/vue-select.css">

</head>

<body>

    <div id="bankApp" v-show="bankMenuVisible" @mousedown="mouseDown" @mouseup="mouseUp">
        <div class="bankWindow">
            <header class="bankWindow-header">
                <div class="main-title">
                    <img src="images/icons/bank.svg" class="icon header-svg">
                    <h5 class="main-title-text">Bank</h5>
                </div>

                <div class="name-indicator">
                    <h6 class="name-text">{{ characterData.Name }}</h6>
                </div>
            </header>

            <div class="bankWindow-content">

                <div class="login-screen">
                    <h5 class="login-text">Przytrzymaj aby potwierdzić tożsamość</h1>
                        <svg class="fingerprint" xmlns="http://www.w3.org/2000/svg" viewBox="-1.5 -1.5 136.63 136.56"
                            width="136.63" height="136.56">
                            <path class="original"
                                d="M74.79 8.76C34.79 5.41 8.15 33.6 8.2 67.06c.02 9.4 4.71 18.2-3.08 26.3M95.66 6.84C64.75-6.62 35.16-.37 12.83 27.07m92.5-14.8c18.89 14.55 28.33 31.7 28.3 55.56M7.33 36.48C-.21 51.34-1.78 65.35 1.96 82.91m15.46-24.84c11.03-56.46 92.3-55.76 99.67 4.91M49 29.02c16.4-7.37 31.33-5.39 44.7 5.88m-9.5-23.96c34.23 11.28 46.91 41.4 41.55 86.97M19.31 114.08c5.28-4.5 10.26-10.33 12.77-17.5m-5.93 22.53c15.22-12.49 18.45-31.24 16.52-44.59-5.3-27.22 16.68-33.82 26.82-32.75m-60.06 59c13.42-12.83 7.13-24.08 7.23-32.41m-2.3 39.33C42.6 79.8 7.64 65.8 40.34 34.52m.44 93.96a60.94 60.94 0 0 0 14.6-22.67M33.32 124.1c13.22-12.7 20.85-31.39 17.7-50.9m18.23 60.37c7.88-12.08 13-25.79 15.32-41.2m.55-9.96c2.77-42.91-32.4-36.83-34.59-18.61m63.56 50.8c3.44-14.48 5.28-28.43 4.18-41.01m-27.51 55.7c3.05-6.22 6.01-13.64 7.48-20.15m3.93 14.49c11.26-26.47 9.82-68.08-1.45-81.57m-51.14 89.23c15.1-16.79 21.81-39.44 17.4-64.39m-8.1 66.06c21.14-28.19 18.43-54.84 16.26-66.68-2.17-11.83-16.63-9.3-16.27 1.18.37 10.48 2.53 14.1-.36 27.83m21.1 37.03c20.46-36.82 16.97-79.29-.42-87.57m20.9 55.5c15.34-83.72-60.42-79.88-66.48-38.07-1.34 12.78 2.22 14.56.76 25.71"
                                fill="none" stroke-width="3" stroke="#ddd" stroke-linecap="round"
                                stroke-miterlimit="3" />
                            <linearGradient id="a" x1="49.4%" y1="-3.33%" x2="49.87%" y2="102.85%">
                                <stop offset="0%" stop-color="#b279f7" />
                                <stop offset="90%" stop-color="#4b52db" />
                            </linearGradient>
                            <path class="clone"
                                d="M74.79 8.76C34.79 5.41 8.15 33.6 8.2 67.06c.02 9.4 4.71 18.2-3.08 26.3M95.66 6.84C64.75-6.62 35.16-.37 12.83 27.07m92.5-14.8c18.89 14.55 28.33 31.7 28.3 55.56M7.33 36.48C-.21 51.34-1.78 65.35 1.96 82.91m15.46-24.84c11.03-56.46 92.3-55.76 99.67 4.91M49 29.02c16.4-7.37 31.33-5.39 44.7 5.88m-9.5-23.96c34.23 11.28 46.91 41.4 41.55 86.97M19.31 114.08c5.28-4.5 10.26-10.33 12.77-17.5m-5.93 22.53c15.22-12.49 18.45-31.24 16.52-44.59-5.3-27.22 16.68-33.82 26.82-32.75m-60.06 59c13.42-12.83 7.13-24.08 7.23-32.41m-2.3 39.33C42.6 79.8 7.64 65.8 40.34 34.52m.44 93.96a60.94 60.94 0 0 0 14.6-22.67M33.32 124.1c13.22-12.7 20.85-31.39 17.7-50.9m18.23 60.37c7.88-12.08 13-25.79 15.32-41.2m.55-9.96c2.77-42.91-32.4-36.83-34.59-18.61m63.56 50.8c3.44-14.48 5.28-28.43 4.18-41.01m-27.51 55.7c3.05-6.22 6.01-13.64 7.48-20.15m3.93 14.49c11.26-26.47 9.82-68.08-1.45-81.57m-51.14 89.23c15.1-16.79 21.81-39.44 17.4-64.39m-8.1 66.06c21.14-28.19 18.43-54.84 16.26-66.68-2.17-11.83-16.63-9.3-16.27 1.18.37 10.48 2.53 14.1-.36 27.83m21.1 37.03c20.46-36.82 16.97-79.29-.42-87.57m20.9 55.5c15.34-83.72-60.42-79.88-66.48-38.07-1.34 12.78 2.22 14.56.76 25.71"
                                fill="none" stroke-width="3" stroke="url(#a)" stroke-linecap="round"
                                stroke-miterlimit="3" stroke-dasharray="178" stroke-dashoffset="178" />
                        </svg>
                </div>

                <transition name="fade">
                    <section class="section" id="depositMoney" v-show="currentMenuShown == 'depositScreen'">
                        <div class="container-fluid">
                            <h1 class="section-title">Wpłać pieniądze do banku</h1>
                            <div class="current-money">
                                <p>Aktualny stan konta wynosi</p>
                                <div class="value">{{ characterData.Money }}$</div>
                            </div>
                            <div class="deposit-money">
                                <p>Ilość pieniędzy do wpłaty</p>
                                <input placeholder="0" v-model="moneyToDeposit" type="number" class="form-input" min="0"
                                    oninput="validity.valid||(value='');">
                            </div>

                            <div class="row justify-content-center">
                                <div class="col-2">
                                    <button class="form-button" @click="closeDepositDiv()">Wróć</button>
                                </div>
                                <div class="col-2">
                                    <button class="form-button" @click="depositMoney()">Wpłać</button>
                                </div>
                            </div>
                        </div>
                    </section>
                </transition>

                <transition name="fade">
                    <section class="section" id="withdrawDiv" v-show="currentMenuShown == 'withdrawScreen'">
                        <div class="container-fluid">
                            <h1 class="section-title">Wypłać pieniądze z konta</h1>
                            <div class="current-money">
                                <p>Aktualny stan konta wynosi</p>
                                <div class="value">{{ characterData.Money }}$</div>
                            </div>
                            <div class="deposit-money">
                                <p>Ilość pieniędzy do wypłaty</p>
                                <input placeholder="0" v-model="moneyToWithdraw" type="number" class="form-input"
                                    min="0" oninput="validity.valid||(value='');">
                            </div>

                            <div class="row justify-content-center">
                                <div class="col-2">
                                    <button class="form-button" @click="closeWithdrawDiv()">Wróć</button>
                                </div>
                                <div class="col-2">
                                    <button class="form-button" @click="withdrawMoney()">Wypłać</button>
                                </div>
                            </div>
                        </div>
                    </section>
                </transition>

                <transition name="fade">
                    <section class="section" id="transferDiv" v-show="currentMenuShown == 'transferScreen'">
                        <div class="container-fluid">
                            <h1 class="section-title">Wykonaj przelew</h1>
                            <p class="small-text">Podatek wynosi 1% kwoty przelewu</p>
                            <div class="current-money">
                                <p>Aktualny stan konta wynosi</p>
                                <div class="value">{{ characterData.Money }}$</div>
                            </div>

                            <div class="deposit-money">
                                <p>Kwota przelewu</p>
                                <input placeholder="0" v-model="moneyToTransfer" type="number" class="form-input"
                                    min="0" oninput="validity.valid||(value='');">
                            </div>

                            <div class="deposit-money">
                                <p>Odbiorca przelewu</p>
                                <input v-model="transferReceiver" type="number" placeholder="Numer konta odbiorcy"
                                    class="form-input" oninput="validity.valid||(value='');">
                            </div>

                            <div class="row justify-content-center">
                                <div class="col-2">
                                    <button class="form-button" @click="closeTransferDiv()">Wróć</button>
                                </div>
                                <div class="col-2">
                                    <button class="form-button" @click="transferMoney()">Przelej</button>
                                </div>
                            </div>
                        </div>
                    </section>
                </transition>

                <transition name="fade">

                    <section class="section" id="historyDiv" v-show="currentMenuShown == 'historyScreen'">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-6 pl-2 mt-1">
                                    <bank-chart ref="foo"></bank-chart>
                                </div>

                                <div class="col-6 pr-2 mt-1">
                                    <div class="list">
                                        <div class="item" v-for="transaction in computedTransactionList">
                                            <div class="history-section">
                                                <div class="icon" v-if="transaction.Positive == true">
                                                    <img src="images/icons/arrow-up.png" class="icon-png">
                                                </div>
                                                <div class="icon" v-else>
                                                    <img src="images/icons/arrow-down.png" class="icon-png">
                                                </div>

                                                <div class="text">
                                                    <div class="title">{{ transaction.Text }}</div>
                                                    <div class="description">{{ transaction.Date }}</div>
                                                </div>
                                            </div>
                                            <div class="history-section">
                                                <div class="balance" v-if="transaction.Positive == true">
                                                    + ${{ transaction.Amount }}$
                                                </div>
                                                <div class="balance-negative" v-else>
                                                    - ${{ transaction.Amount }}$
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row justify-content-center">
                                <div class="col-2">
                                    <button class="form-button" @click="closeHistoryDiv()">Wróć</button>
                                </div>
                            </div>
                        </div>
                    </section>
                </transition>

                <div class="welcome-screen" v-show="currentMenuShown == 'mainScreen'">
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-3 balance-card mx-2">
                                <div class="row ml-1 mt-5">
                                    <div class="label">Dostępne środki</div>
                                    <div class="value">{{ characterData.Money }}$</div>
                                </div>
                                <div class="row ml-1 mt-4 align-items-end">
                                    <div class="label">Numer konta</div>
                                    <div class="value">{{ characterData.AccountNumber }}</div>
                                </div>
                            </div>
                            <div class="col-3 panel mx-2" @click="openDepositDiv()">
                                <div class="panel-icon">
                                    <img src="images/icons/depositMoney.svg" class="menu-svg">
                                </div>
                                <h4 class="panel-title">Wpłać pieniądze na konto</h4>
                            </div>
                            <div class="col-3 panel mx-2" @click="openWithdrawDiv()">
                                <div class="panel-icon">
                                    <img src="images/icons/withdrawMoney.svg" class="menu-svg">
                                </div>
                                <h4 class="panel-title">Wypłać pieniądze z konta</h4>
                            </div>
                        </div>

                        <div class="row justify-content-center">
                            <div class="col-3 panel m-2" @click="openTransferDiv()">
                                <div class="panel-icon">
                                    <img src="images/icons/transferMoney.svg" class="menu-svg">
                                </div>
                                <h4 class="panel-title">Wykonaj przelew</h4>
                            </div>
                            <div class="col-3 panel m-2" @click="openHistoryDiv()">
                                <div class="panel-icon">
                                    <img src="images/icons/paymentHistory.svg" class="menu-svg">
                                </div>
                                <h4 class="panel-title">Historia stanu konta</h4>
                            </div>
                            <div class="col-3 panel m-2" @click="closeBankMenu()">
                                <div class="panel-icon">
                                    <img src="images/icons/close.svg" class="menu-svg">
                                </div>
                                <h4 class="panel-title">Zamknij bankomat</h4>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="businessApp" v-if="businessMenuVisible">
        <nav class="navbar navbar-dark bg-dark navbar-expand-lg shadow p-0">
            <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">{{ businessInfo.BusinessName }}</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto">
                    <li class="nav-item active" id="mainPageNav" @click="showPage('mainPage')">
                        <a class="nav-link">Strona główna</a>
                    </li>
                    <li class="nav-item" id="employeesPageNav" @click="showPage('employeesPage')">
                        <a class="nav-link">Pracownicy</a>
                    </li>
                    <li class="nav-item" id="rolesPageNav" @click="showPage('rolesPage')">
                        <a class="nav-link">Stanowiska</a>
                    </li>
                    <li class="nav-item" id="businessInfoPageNav" @click="showPage('businessInfoPage')">
                        <a class="nav-link">Informacje o biznesie</a>
                    </li>
                </ul>
                <ul class="navbar-nav">
                    <li class="nav-item p-1" @click="closeBusinessMenu">
                        <a class="nav-link">Zamknij</a>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="businessAppContainer" class="container">
            <div class="row">
                <div class="col-md-12 ml-sm-auto col-lg-12 px-4" v-if="currentMenuVisible == 'mainPage'">
                    <div class="row">
                        <div class="col-md-12 pt-3 pb-2 mb-3">
                            <div class="content-box shadow">
                                <div class="business-info">
                                    <h3>Witaj w menu bizesu - {{ businessInfo.BusinessName }}</h3>
                                    <p>Biznes został założony - {{ createdAt }}</p>
                                    <p>Typ bizesu - {{ businessType }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pt-3 pb-2 mb-3 row">
                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.Money }}</h3>
                                    <span>$</span>
                                    <p>Ilość pieniędzy w firmie</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.Transactions }}</h3>
                                    <span>Transakcji</span>
                                    <p>Ilość przeprowadzonych transakcji</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.EmployeesCount }}</h3>
                                    <span>Pracowników</span>
                                    <p>Ilość zatrudnionych pracowników</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-12 ml-sm-auto col-lg-12 px-4" v-if="currentMenuVisible == 'employeesPage'">

                    <div class="row">
                        <div class="col-md-12 pt-3 pb-2 mb-3">
                            <div class="content-box shadow box-hover" @click="openNewEmployeeModal">
                                <div class="business-info">
                                    <h3>Dodaj nowego pracownika</h3>
                                    <p>{{ businessInfo.EmployeesCount }} / {{ businessInfo.MaxMembersCount }}
                                        Pracowników</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Add employee modal -->
                    <div class="modal fade" id="addEmployeeModal" tabindex="-1" role="dialog" aria-hidden="true"
                        v-if="newEmployee">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalCenterTitle">Dodaj nowego pracownika</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        @click="closeNewEmployeeModal">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Imię</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" v-model="newEmployee.Name"
                                                placeholder="Podaj imię">
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Nazwisko</label>
                                        <div class="col-sm-8">
                                            <input type="text" class="form-control" v-model="newEmployee.LastName"
                                                placeholder="Podaj nazwisko">
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                        @click="closeNewEmployeeModal">Zamknij</button>
                                    <button type="button" class="btn btn-primary" @click="addNewEmployee">Dodaj
                                        pracownika</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Employee info modal -->
                    <div class="modal fade" id="employeeInfoModal" tabindex="-1" role="dialog" aria-hidden="true"
                        v-if="selectedEmployee">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalCenterTitle">
                                        {{ selectedEmployee.Name }} {{ selectedEmployee.LastName }}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        @click="closeEmployeeInfo">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">ID</label>
                                        <div class="col-sm-8">
                                            <input type="text" readonly class="form-control-plaintext"
                                                v-model="selectedEmployee.Id">
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Imię</label>
                                        <div class="col-sm-8">
                                            <input type="text" readonly class="form-control-plaintext"
                                                v-model="selectedEmployee.Name">
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Nazwisko</label>
                                        <div class="col-sm-8">
                                            <input type="text" readonly class="form-control-plaintext"
                                                v-model="selectedEmployee.LastName">
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Płeć</label>
                                        <div class="col-sm-8">
                                            <input type="text" readonly class="form-control-plaintext"
                                                v-model="selectedEmployee.Gender == 0 ? 'Mężczyzna' : 'Kobieta'">
                                        </div>
                                    </div>

                                    <div class="form-group row">
                                        <label class="col-sm-4 col-form-label">Stanowisko</label>
                                        <div class="col-sm-8">
                                            <v-select v-model="newRank" label="RankName" :options="getBusinessRanks"
                                                :clearable="false" :filterable="true">
                                            </v-select>
                                            <!-- <span>RankID: {{selectedEmployee.RankId}} newRank: {{ newRank }}</span> -->
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                        @click="closeEmployeeInfo">Zamknij</button>
                                    <button type="button" class="btn btn-primary" @click="saveEmployeeChanges">Zapisz
                                        zmiany</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-center p-2">Lista pracowników</h2>
                    <div class="table-responsive rounded">
                        <table class="table table-striped table-sm shadow hover-table">
                            <thead class="thead-dark">
                                <tr>
                                    <th>#</th>
                                    <th>Id</th>
                                    <th>Imię</th>
                                    <th>Nazwisko</th>
                                    <th>Wiek</th>
                                    <th>Płeć</th>
                                    <th>Stanowisko</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="(employee, index) in employeesInfo.BusinessEmployees"
                                    @click="showEmployeeInfo(employee.Id)">
                                    <td>{{ index + 1}}</td>
                                    <td>{{ employee.Id }}</td>
                                    <td>{{ employee.Name }}</td>
                                    <td>{{ employee.LastName }}</td>
                                    <td>{{ employee.Age }}</td>
                                    <td v-if="employee.Gender == 0">M</td>
                                    <td v-else>K</td>
                                    <td>{{ employee.RankName }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-md-12 ml-sm-auto col-lg-12 px-4" v-if="currentMenuVisible == 'rolesPage'">
                    <!-- Add employee modal -->
                    <div class="modal fade" id="addRoleModal" tabindex="-1" role="dialog" aria-hidden="true"
                        v-if="newRole">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalCenterTitle">Dodaj nowe stanowisko</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        @click="closeNewRoleModal">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="row">
                                        <label class="col-sm-6 col-form-label">Nazwa stanowiska</label>
                                        <div class="col-sm-6">
                                            <input type="text" class="form-control" v-model="newRole.RankName"
                                                placeholder="Podaj nazwę">
                                        </div>
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Otwieranie menu biznesu</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.CanOpenBusinessMenu">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Klucze do budynków</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.HaveBusinessKeys">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Otwieranie inwentarza</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.CanOpenBusinessInventory">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Klucze do pojazdów</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.HaveVehicleKeys">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Rekrutowanie pracowników</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.CanInviteNewMembers">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Zarządzanie pracownikami</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.CanManageEmployees">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Zarządzanie stanowiskami</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="newRole.Permissions.CanManageRanks">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                        @click="closeNewRoleModal">Zamknij</button>
                                    <button type="button" class="btn btn-primary" @click="addNewRole">Dodaj
                                        pracownika</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Business rank info modal -->
                    <div class="modal fade" id="businessRankInfoModal" tabindex="-1" role="dialog" aria-hidden="true"
                        v-if="selectedRank">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="modalCenterTitle">{{ selectedRank.RankName }}</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"
                                        @click="closeRankInfo">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Otwieranie menu biznesu</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.CanOpenBusinessMenu">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Klucze do budynków</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.HaveBusinessKeys">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Otwieranie inwentarza</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.CanOpenBusinessInventory">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Klucze do pojazdów</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.HaveVehicleKeys">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Rekrutowanie pracowników</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.CanInviteNewMembers">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Zarządzanie pracownikami</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.CanManageEmployees">
                                    </div>
                                    <div class="form-check row">
                                        <label class="col-sm-10 form-check-label">Zarządzanie stanowiskami</label>
                                        <input class="col-sm-1" type="checkbox" class="form-check-input"
                                            v-model="selectedRank.CanManageRanks">
                                    </div>
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal"
                                        @click="closeRankInfo">Zamknij</button>
                                    <button type="button" class="btn btn-primary" id="saveRankChangesButton"
                                        @click="saveRankChanges">Zapisz zmiany</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12 pt-3 pb-2 mb-3">
                            <div class="content-box shadow box-hover" @click="openNewRoleModal">
                                <div class="business-info">
                                    <h3>Dodaj nową rolę</h3>
                                    <p>{{ businessInfo.Ranks }} / {{ businessInfo.MaxRanksCount }} stanowisk</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-center p-2">Lista stanowisk</h2>
                    <div class="table-responsive rounded">
                        <table class="table table-striped table-sm shadow hover-table">
                            <thead class="thead-dark">
                                <tr>
                                    <th>Id</th>
                                    <th>Stanowisko</th>
                                    <th>Otwieranie menu biznesu</th>
                                    <th>Klucze do budynków</th>
                                    <th>Otwieranie inwentarza</th>
                                    <th>Klucze do pojazdów</th>
                                    <th>Rekrutowanie pracowników</th>
                                    <th>Zarządzanie pracownikami</th>
                                    <th>Zarządzanie stanowiskami</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="rank in businessRanksInfo" @click="openRankInfo(rank)">
                                    <td>{{ rank.RankId }}</td>
                                    <td>{{ rank.RankName }}</td>
                                    <td>{{ betterPermissionDisplay(rank.CanOpenBusinessMenu) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.HaveBusinessKeys) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.CanOpenBusinessInventory) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.HaveVehicleKeys) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.CanInviteNewMembers) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.CanManageEmployees) }}</td>
                                    <td>{{ betterPermissionDisplay(rank.CanManageRanks) }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="col-md-12 ml-sm-auto col-lg-12 px-4" v-if="currentMenuVisible == 'businessInfoPage'">
                    <div class="pt-3 pb-2 mb-3 row">
                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.Money }}</h3>
                                    <span>$</span>
                                    <p>Ilość pieniędzy w firmie</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.Transactions }}</h3>
                                    <span>Transakcji</span>
                                    <p>Ilość przeprowadzonych transakcji</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.EmployeesCount }}</h3>
                                    <span>Pracowników</span>
                                    <p>Ilość zatrudnionych pracowników</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pt-3 pb-2 mb-3 row">
                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.BusinessId }}</h3>
                                    <span>Numer</span>
                                    <p>Numer biznesu</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessType }}</h3>
                                    <span>Typ</span>
                                    <p>Rodzaj biznesu</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.MaxMembersCount }}</h3>
                                    <span>Miejsc</span>
                                    <p>Maksymalna liczba pracowników</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="pt-3 pb-2 mb-3 row">
                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.Ranks }}</h3>
                                    <span>Stanowisk</span>
                                    <p>Liczba stanowisk w biznesie</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="content-box shadow">
                                <div class="info">
                                    <h3>{{ businessInfo.MaxRanksCount }}</h3>
                                    <span>Stanowisk</span>
                                    <p>Maksymalna liczba stanowisk</p>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</body>

<script src="js/bank.js"></script>
<script src="js/svg.js"></script>
<script src="js/business.js"></script>

</html>